{% extends "base/base.html" %}
{% load static %}

{% block content %}
	<div class="row fullwidth">
		<div class="small-12 large-12 columns">
			<h3> Welcome {{ user.first_name }}! </h3>
		</div>
	</div>
	<div class="row fullwidth">
		<div class="accordion" data-accordion data-allow-all-closed="true" data-multi-expand="true">
			<li class="accordion-item" data-accordion-item>
				<a href="#" class="accordion-title">My Horses</a>
				<div class="accordion-content" data-tab-content>
					<ul>
						<div id="horse_list">
							{% for horse in users_horses %}
								<li>{{horse.name}}</li>
							{% endfor %}
						</div>
					</ul>
					{% if not users_horses.all %}
						<h5 id="no_horses">No horses registered</h5>
					{% endif %}
					<div style="margin-top: 1em;">
						<a class="button" data-open="register_horse_modal" id="horse_registration">Register a horse</a>
					</div>
				</div>
			</li>
			<li class="accordion-item" data-accordion-item>
				<a href="#" class="accordion-title">Billing</a>
				<div class="accordion-content" data-tab-content>
					{{ user.last_name }}
				</div>
			</li>
		</div>
	</div>
	<div class="reveal" id="register_horse_modal" data-reveal>
		<div id="register_horse_modal_contents">
			{% include "users/partials/horse_registration_form.html" %}
		</div>
	</div>
	<button id="mybutton">button</button>
{% endblock %}
{% block scripts %}
	<script src="https://unpkg.com/react@15.3.2/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@15.3.2/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
	<!--<script type="text/babel" src="{% static "users/js/profile.js" %}"></script>-->
	<script type="text/javascript" src="{% static "users/js/modalforms.js" %}"></script>

	<script>
		var url = "/user/api/users_horses/?uid={{ user.id|escapejs|safe }}";
		var uid = "{{ user.id|escapejs|safe }}";
	</script>
{% endblock scripts %}